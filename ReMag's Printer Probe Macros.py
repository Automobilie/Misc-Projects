[gcode_macro Probe_Acc_25] # Runs PROBE_ACCURACY with 25 samples because I kept forgetting all the options
gcode:
    M118 Running 25 Probes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=25 SAMPLE_RETRACT_DIST=5

[gcode_macro Speed_Test_Y_Stepper_Decrease] # Starts at 200mm/s and slowly decreases, checking for movement and noise
gcode:
    M118 Setting Absolute Positioning
    G90
    M118 Moving Y Stepper in increments
    M118 200mm/s
    G1 X100 Y0 F12000  #200mm/s
    G4 P1000
    M118 190mm/s
    G1 X0 Y100 F11400  #190mm/s
    G4 P1000
    M118 180mm/s
    G1 X100 Y0 F10800  #180mm/s
    G4 P1000
    M118 170mm/s
    G1 X0 Y100 F10200  #170mm/s
    G4 P1000
    M118 160mm/s
    G1 X100 Y0 F9600   #160mm/s
    G4 P1000
    M118 150mm/s
    G1 X0 Y100 F9000   #150mm/s
    G4 P1000
    M118 140mm/s
    G1 X100 Y0 F8400   #140mm/s
    G4 P1000
    M118 130mm/s
    G1 X0 Y100 F7800   #130mm/s
    G4 P1000
    M118 120mm/s
    G1 X100 Y0 F7200   #120mm/s
    G4 P1000
    M118 110mm/s
    G1 X0 Y100 F6600   #110mm/s
    G4 P1000
    M118 100mm/s
    G1 X100 Y0 F6000   #100mm/s
    G4 P1000
    M118 90mm/s
    G1 X0 Y100 F5400    #90mm/s
    G4 P1000
    M118 80mm/s
    G1 X100 Y0 F4800    #80mm/s
    G4 P1000
    M118 70mm/s
    G1 X0 Y100 F4200    #70mm/s
    G4 P1000
    M118 60mm/s
    G1 X100 Y0 F3600    #60mm/s
    G4 P1000
    M118 50mm/s
    G1 X0 Y100 F3000    #50mm/s
    G4 P1000
    #M118 40mm/s
    #G1 X100 Y0 F2400    #40mm/s
    #G4 P1000
    #M118 30mm/s
    #G1 X0 Y100 F1800    #30mm/s
    #G4 P1000
    #M118 20mm/s
    #G1 X100 Y0 F1200    #20mm/s
    #G4 P1000
    #M118 10mm/s
    #G1 X0 Y100 F600    #10mm/s
    #G4 P1000
    M118 Return to origin
    G1 X0 Y0 F3600    #60mm/s
    G4 P1000
    M118 Done

[gcode_macro Probe_Acc_Long_Cold] # Runs PROBE_ACCURACY over 20 minutes from cold to check probe for heat-drift. Use a spreadsheet/graph to determine how long to heatsoak before probing operations.
gcode:
    M118 Homing all axis
    G28
    M118 Adjusting Z Steppers
    Z_TILT_ADJUST
    M118 Rehoming Z axis
    G28 Z
    M118 Begin long probe test...
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=3 SAMPLE_RETRACT_DIST=5
    M118 Warming up for ABS
    SET_HEATER_TEMPERATURE HEATER=chamber Target=60 # 50C is where mine reaches easily enough
    SET_HEATER_TEMPERATURE HEATER=heater_bed Target=110 # I use 110C for ABS plastic
    SET_HEATER_TEMPERATURE HEATER=extruder Target=250 # I use 260C for ABS plastic
    M118 Probing and waiting 30s...
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 1-Minute
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 5-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 10-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 15-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 20-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    M118 Turning off heaters
    TURN_OFF_HEATERS               # Turn off heaters
    
[gcode_macro Probe_Acc_Long_Hot] # Runs PROBE_ACCURACY over 20 minutes after heating to check probe for heat-drift. Use a spreadsheet/graph to determine how long to heatsoak before probing operations.
gcode:
    M118 Homing all axis
    G28
    M118 Adjusting Z Steppers
    Z_TILT_ADJUST
    M118 Rehoming Z axis
    G28 Z
    M118 Turning on Extruder...
    SET_HEATER_TEMPERATURE HEATER=chamber Target=60 # 50C is where mine reaches easily enough
    M118 Turning on Bed...
    SET_HEATER_TEMPERATURE HEATER=heater_bed Target=110 # I use 110C for ABS plastic
    M118 Turning on Chamber...
    SET_HEATER_TEMPERATURE HEATER=extruder Target=250 # I use 260C for ABS plastic
    M118 Waiting for Extruder to warm up...
    M109 S250 ; wait for extruder temp NB this heating occurs while leveling
    M118 Waiting for Bed to warm up...
    M190 S110 # wait for bed temp
    M118 Waiting for Chamber to warm up...
    M191 S60 #Wait for chamber to warm up to 60C
    M118 Beginning Probe Test...
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 1-Minute
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 5-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 10-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 15-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    G4 P30000
    M118 20-Minutes
    PROBE_ACCURACY PROBE_SPEED=5 SAMPLES=1 SAMPLE_RETRACT_DIST=5
    M118 Turning off heaters
    TURN_OFF_HEATERS               # Turn off heaters
    
[gcode_macro Bed_Mesh_Calibration] # Runs PROBE_ACCURACY over 20 minutes after heating to check probe for heat-drift. Use a spreadsheet/graph to determine how long to heatsoak before probing operations.
gcode:
    M118 Homing all axis
    G28
    M118 Adjusting Z Steppers
    Z_TILT_ADJUST
    M118 Rehoming Z axis
    G28 Z
    M118 Turning on Extruder...
    SET_HEATER_TEMPERATURE HEATER=chamber Target=60 # 50C is where mine reaches easily enough
    M118 Turning on Bed...
    SET_HEATER_TEMPERATURE HEATER=heater_bed Target=110 # I use 110C for ABS plastic
    M118 Turning on Chamber...
    SET_HEATER_TEMPERATURE HEATER=extruder Target=270 # I use 270C for ABS plastic
    M118 Waiting for Extruder to warm up...
    M109 S270 ; wait for extruder temp NB this heating occurs while leveling
    M118 Waiting for Bed to warm up...
    M190 S110 # wait for bed temp
    M118 Waiting for Chamber to warm up...
    M191 S60 #Wait for chamber to warm up to 60C
    M118 Waiting 12 min for heatsoak and probe drift...
    G4 P240000
    M118 9 minutes left...
    G4 P240000
    M118 6 minutes left...
    G4 P240000
    M118 3 minutes left...
    G4 P240000
    M118 Rehoming all axis...
    G28
    M118 Adjusting Z steppers...
    Z_TILT_ADJUST
    M118 Rehoming Z axis...
    G28 Z # Home Z axis with everything warmed up
    BED_MESH_CALIBRATE
    SAVE_CONFIG

[gcode_macro Speed_Slow]
gcode:
   M220 S50

[gcode_macro Speed_Full]
gcode:
    M220 S100
